---
title: ternSecureInstrumentation()
---
create instrumentation.ts in your root directory.

<Callout type="info" title="Note">
  `ternSecureInstrumentation()` intercept firebase requests to add referer in the header. so firebaseServerApp wont throw auth/refer-empty error.
</Callout>

``` ts title="instrumentation.ts"
import { ternSecureInstrumentation } from "@tern-secure/nextjs/server";

export async function register() {
  if (process.env.NEXT_RUNTIME === "nodejs") {
    ternSecureInstrumentation();
  }
}
```